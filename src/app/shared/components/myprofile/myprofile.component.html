
<div class="container main-content">
  <div class="row">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12">
      <div class="our-team">
        <div class="edit-icons">
          <div class="edit-icon" (click)="showUpdataInfoModal()">
            <i class="fas fa-edit"></i>
          </div>
          <div class="password-icon" (click)="showUpdataPasswordModal()">
            <i class="fas fa-key"></i>
          </div>
        <div class="picture">
          <img
            class="img-fluid"
            src="https://cdn-icons-png.freepik.com/256/8955/8955147.png"
          />
        </div>
        <div class="team-content" [ngSwitch]="managerData.data.role">
          <h3 class="name">{{managerData.data.name}} </h3>
          <h4 class="title" *ngSwitchCase="0">Admin</h4>
          <h4 class="title" *ngSwitchCase="1">Manager</h4>
          <h4 class="title" *ngSwitchCase="2">Team_Leader</h4>
          <h4 class="title" *ngSwitchCase="3">Saller</h4>
          <h4 class="title" *ngSwitchCase="4">Hr</h4>
          <h4 class="title" *ngSwitchCase="5">Retention</h4>
          <p-table class="custom-table py-2"  [tableStyle]="{ 'max-width': '100%' }" [responsive]="true">
   <ng-template pTemplate="header">
     <tr>
       <th class="border text-center"><i class="fas fa-phone"></i> PhoneNumber </th>
       <th class="border text-center"><i class="fas fa-building"></i> Company Phone </th>
       <th class="border text-center"><i class="fas fa-envelope"></i> Email </th>
       <th class="border text-center"><i class="fas fa-id-card"></i> National ID </th>
     </tr>
     <tr>
     <td class="border">{{managerData.data.phoneNumber}}</td>
      <td class="border">{{managerData.data.companyPhoneNumber}}</td>
      <td class="border">{{managerData.data.email}}</td>
      <td class="border">{{managerData.data.nationalId}}</td>
    </tr>
   </ng-template>

 </p-table>
        </div>
      </div>
    </div>
  </div>
  <p-dialog class="d-flex justify-content-center" header="update your Details" [modal]="true"
  [(visible)]="displayUpdateInfoModal">
  <div class="py-4 d-flex justify-content-center">
    <form
      [formGroup]="updateUserIfo"
      (ngSubmit)="onSubmit()"
      class="registration-form"
    >
      <div class="form-group row">
        <div class="col-md-6 col-12">
          <label for="name"><i class="fas fa-user"></i> Name*</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            class="form-control"
            placeholder="Your Full Name"
          />
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('name')?.touched &&
              updateUserIfo.get('name')?.hasError('required')
            "
          >
            Please enter your name.
          </div>
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('name')?.touched &&
              updateUserIfo.get('name')?.hasError('minlength')
            "
          >
            Name must be at least 2 characters long.
          </div>
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('name')?.touched &&
              updateUserIfo.get('name')?.hasError('maxlength')
            "
          >
            Name must not exceed 50 characters.
          </div>
        </div>

        <div class="col-md-6 col-12">
          <label for="email"><i class="fas fa-envelope"></i> Email*</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            class="form-control"
            placeholder="Your Email Address"
          />
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('email')?.touched &&
              updateUserIfo.get('email')?.hasError('required')
            "
          >
            Please enter your email address.
          </div>
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('email')?.touched &&
              updateUserIfo.get('email')?.hasError('email')
            "
          >
            Invalid email address format.
          </div>
        </div>
      </div>

      <div class="form-group row">
        <div class="col-md-6 col-12">
          <label for="phone"><i class="fas fa-phone"></i> Phone*</label>
          <input
            type="tel"
            id="phone"
            formControlName="phoneNumber"
            class="form-control"
            placeholder="Your Phone Number"
          />
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('phoneNumber')?.touched &&
              updateUserIfo.get('phoneNumber')?.hasError('required')
            "
          >
            Please enter your phone number.
          </div>
        </div>

        <div class="col-md-6 col-12">
          <label for="nationalId"
            ><i class="fas fa-id-card"></i> National_Id*</label
          >
          <input
            type="text"
            id="nationalId"
            formControlName="nationalId"
            class="form-control"
            placeholder="Your National_Id"
          />
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('nationalId')?.touched &&
              updateUserIfo.get('nationalId')?.hasError('required')
            "
          >
            Please enter your national_Id.
          </div>
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('nationalId')?.touched &&
              updateUserIfo.get('nationalId')?.hasError('minlength')
            "
          >
            national_Id must be at least 2 characters long.
          </div>
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('nationalId')?.touched &&
              updateUserIfo.get('nationalId')?.hasError('maxlength')
            "
          >
            national_Id must not exceed 50 characters.
          </div>
        </div>
      </div>

      <div class="form-group row">
        <div class="col-12">
          <label for="companyPhoneNumber"
            ><i class="fas fa-phone"></i> Company Phone Number*</label
          >
          <input
            type="tel"
            id="companyPhoneNumber"
            formControlName="companyPhoneNumber"
            class="form-control"
            placeholder="Your Company Phone Number"
          />
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserIfo.get('companyPhoneNumber')?.touched &&
              updateUserIfo.get('companyPhoneNumber')?.hasError('required')
            "
          >
            Please Enter Your Company Phone Number.
          </div>
        </div>
      </div>

      <button
        [disabled]="updateUserIfo.invalid"
        type="submit"
        class="btn btn-register mt-4"
      >
        <span>Save</span>
      </button>
    </form>
  </div>
  </p-dialog>


  <p-dialog class="d-flex justify-content-center" header="Change Your Password" [modal]="true"
  [(visible)]="displayChangePasswordModal">
  <div class="py-4 d-flex justify-content-center">
    <form
      [formGroup]="updateUserPassword"
      (ngSubmit)="change()"
      class="registration-form">
      <div class="form-group row">
        <div class="col-12">
          <label for="currentPassword"><i class="fas fa-lock"></i> Current_Password*</label>
          <input
            type="password"
            id="currentPassword"
            formControlName="currentPassword"
            class="form-control"
            placeholder="Write Your Old Password"
          />
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserPassword.get('currentPassword')?.touched &&
              updateUserPassword.get('currentPassword')?.hasError('required')
            "
          >
            Please enter a password.
          </div>
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserPassword.get('currentPassword')?.touched &&
              updateUserPassword.get('currentPassword')?.hasError('pattern')
            "
          >
            Password must contain at least one uppercase letter, one lowercase
            letter, one special character, one number, and be at least 10
            characters long.
          </div>
        </div>

        <div class="col-12">
          <label for="newPassword"
            ><i class="fas fa-lock"></i> New Password*</label
          >
          <input
            type="password"
            id="newPassword"
            formControlName="newPassword"
            class="form-control"
            placeholder="Enter Your New Password"
          />
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserPassword.get('rePassword')?.touched &&
              updateUserPassword.get('rePassword')?.hasError('required')
            "
          >
            Please Enter Your new password.
          </div>
          <div
            class="error-message text-danger"
            *ngIf="
              updateUserPassword.get('rePassword')?.touched &&
              updateUserPassword.get('rePassword')?.hasError('pattern')
            "
          >
            Password must contain at least one uppercase letter, one lowercase
            letter, one special character, one number, and be at least 10
            characters long.
          </div>
        </div>
      </div>
      <button
        [disabled]="updateUserPassword.invalid"
        type="submit"
        class="btn btn-register mt-4">
        <span>Change</span>
      </button>
    </form>
  </div>
</p-dialog>
</div>
<p-confirmDialog></p-confirmDialog>
<p-toast></p-toast>
